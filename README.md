# Кино Поиск - Приложение для поиска фильмов

## Описание
Мобильное приложение для поиска фильмов и сериалов, а также управления коллекциями фильмов. Приложение использует API Kinopoisk для получения данных о фильмах.

## Исправленные проблемы

### 1. Краш при открытии страницы фильма
- **Проблема**: FilmDetailsScreen создавался без фабрики ViewModel
- **Решение**: Передача viewModel как параметра в FilmDetailsScreen
- **Файлы**: `FilmDetailsScreen.kt`, `MainActivity.kt`

### 2. Краш при открытии профиля
- **Проблема**: ProfileScreen создавался без фабрики ViewModel
- **Решение**: Создание ProfileViewModel с фабрикой в MainActivity
- **Файлы**: `ProfileScreen.kt`, `MainActivity.kt`

### 3. Неактивная вкладка "Топ-250"
- **Проблема**: Отсутствовала кнопка "Все" для вкладки "Топ-250"
- **Решение**: Добавлен параметр `showAll = true` для вкладки "Топ-250"
- **Файлы**: `HomeRepository.kt`

### 4. Пустой список в "Популярное"
- **Проблема**: Возможные ошибки API или отсутствие API ключа
- **Решение**: Улучшена обработка ошибок и добавлено логирование
- **Файлы**: `HomeRepository.kt`, `HomeViewModel.kt`, `ApiClient.kt`

## Настройка API ключа

Для работы приложения требуется API ключ Kinopoisk. См. файл `API_SETUP.md` для подробных инструкций.

### Быстрая настройка:
1. Получите API ключ на [kinopoiskapiunofficial.tech](https://kinopoiskapiunofficial.tech/)
2. Добавьте в `local.properties`:
   ```properties
   KINOPOISK_API_KEY=ваш_ключ_здесь
   ```
3. Пересоберите проект

## Логирование

Приложение теперь включает подробное логирование для диагностики проблем:
- Логи API запросов
- Логи загрузки данных
- Логи ошибок
- Проверка API ключа

## Структура проекта

```
app/src/main/java/com/example/cinema/
├── data/           # Слой данных
├── domain/         # Бизнес-логика
├── ui/            # UI компоненты
├── FilmDetailsScreen.kt      # Экран деталей фильма
├── ProfileScreen.kt          # Экран профиля
├── HomeScreen.kt             # Главный экран
├── HomeRepository.kt         # Репозиторий главного экрана
└── MainActivity.kt           # Главная активность
```

## Зависимости

- Jetpack Compose для UI
- Retrofit для API
- Room для базы данных
- Coroutines для асинхронности
- Navigation Component для навигации

## Сборка

```bash
./gradlew assembleDebug
```

## Запуск

1. Подключите Android устройство или эмулятор
2. Запустите приложение из Android Studio
3. Проверьте логи для диагностики проблем

## Устранение неполадок

### Приложение крашится при открытии фильма/профиля
- Убедитесь, что API ключ настроен правильно
- Проверьте логи на наличие ошибок

### Пустые списки фильмов
- Проверьте подключение к интернету
- Убедитесь, что API ключ действителен
- Проверьте логи API запросов

### Вкладка "Топ-250" неактивна
- Проблема исправлена в последней версии
- Убедитесь, что используете актуальный код
